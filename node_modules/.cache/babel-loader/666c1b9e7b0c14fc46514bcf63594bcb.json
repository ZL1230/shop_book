{"remainingRequest":"C:\\Users\\itryl\\Desktop\\final_books\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\itryl\\Desktop\\final_books\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\itryl\\Desktop\\final_books\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\itryl\\Desktop\\final_books\\src\\views\\home\\Home.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\itryl\\Desktop\\final_books\\src\\views\\home\\Home.vue","mtime":1623467839848},{"path":"C:\\Users\\itryl\\Desktop\\final_books\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\itryl\\Desktop\\final_books\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\itryl\\Desktop\\final_books\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\itryl\\Desktop\\final_books\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IE5hdkJhciBmcm9tICJjb21wb25lbnRzL2NvbW1vbi9OYXZCYXIvTmF2QmFyIjsKaW1wb3J0IFJlY29tbWVuZFZpZXcgZnJvbSAiLi9jaGlsZHJlbkNvbXBzL1JlY29tbWVuZFZpZXciOwppbXBvcnQgVGFiQ29udHJvbCBmcm9tICJjb21wb25lbnRzL2NvbnRlbnQvdGFiQ29udHJvbC9UYWJDb250cm9sIjsKaW1wb3J0IHsgZ2V0SG9tZUFsbERhdGEsIGdldEhvbWVHb29kcyB9IGZyb20gIi4uLy4uL25ldHdvcmsvaG9tZSI7CmltcG9ydCB7IG9uTW91bnRlZCwgcmVmLCByZWFjdGl2ZSwgY29tcHV0ZWQgfSBmcm9tICJ2dWUiOwppbXBvcnQgR29vZHNMaXN0IGZyb20gImNvbXBvbmVudHMvY29udGVudC9nb29kcy9Hb29kc0xpc3QiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkhvbWUiLAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cCgpIHsKICAgIHZhciB0ZW1pZCA9IHJlZigwKTsKICAgIHZhciByZWNvbW1lbmRzID0gcmVmKFtdKTsgLy/mj5DliY3lo7DmmI7lvILmraXliqDovb3kuYvliY3kuLrnqbrvvIzlkKbliJnpobXpnaLkvJrmiqXplJkKICAgIC8v5ZWG5ZOB5YiX6KGo5pWw5o2u5qih5Z6LCgogICAgdmFyIGdvb2RzID0gcmVhY3RpdmUoewogICAgICBzYWxlczogewogICAgICAgIHBhZ2U6IDAsCiAgICAgICAgbGlzdDogW10KICAgICAgfSwKICAgICAgcmVjb21tZW5kOiB7CiAgICAgICAgcGFnZTogMCwKICAgICAgICBsaXN0OiBbXQogICAgICB9LAogICAgICBuZXc6IHsKICAgICAgICBwYWdlOiAwLAogICAgICAgIGxpc3Q6IFtdCiAgICAgIH0KICAgIH0pOyAvL+ehruWumuW9k+WJjeeCueWHu+eahOaYr+WTquS4qumAiemhueWNoSDvvIzmoLnmja7pgInpobnljaEg5ZCR5ZWG5ZOB5YiX6KGo5Lyg6YCS5LiN5ZCM55qE5YC8CgogICAgdmFyIGN1cnJlbnRUeXBlID0gcmVmKCdzYWxlcycpOyAvL+mAmui/h+iuoeeul+WxnuaAp++8jOWwhuW9k+WJjeexu+Wei+eahOaVsOaNruS8oOe7mWdvb2RzLWxpc3Tnu4Tku7YKCiAgICB2YXIgc2hvd0dvb2RzID0gY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gZ29vZHNbY3VycmVudFR5cGUudmFsdWVdLmxpc3Q7CiAgICB9KTsKICAgIG9uTW91bnRlZChmdW5jdGlvbiAoKSB7CiAgICAgIGdldEhvbWVBbGxEYXRhKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgcmVjb21tZW5kcy52YWx1ZSA9IHJlcy5nb29kcy5kYXRhOwogICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7fSk7CiAgICAgIGdldEhvbWVHb29kcygnc2FsZXMnKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBnb29kcy5zYWxlcy5saXN0ID0gcmVzLmdvb2RzLmRhdGE7CiAgICAgIH0pOwogICAgICBnZXRIb21lR29vZHMoJ3JlY29tbWVuZCcpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGdvb2RzLnJlY29tbWVuZC5saXN0ID0gcmVzLmdvb2RzLmRhdGE7CiAgICAgIH0pOwogICAgICBnZXRIb21lR29vZHMoJ25ldycpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGdvb2RzLm5ldy5saXN0ID0gcmVzLmdvb2RzLmRhdGE7CiAgICAgIH0pOwogICAgfSk7CgogICAgdmFyIHRhYkNsaWNrID0gZnVuY3Rpb24gdGFiQ2xpY2soaW5kZXgpIHsKICAgICAgdGVtaWQudmFsdWUgPSBpbmRleDsgLy/ngrnlh7vliIfmjaLnmoTml7blgJnvvIwKCiAgICAgIHZhciB0eXBlcyA9IFsnc2FsZXMnLCAnbmV3JywgJ3JlY29tbWVuZCddOwogICAgICBjdXJyZW50VHlwZS52YWx1ZSA9IHR5cGVzW2luZGV4XTsgLy8gaWYoaW5kZXg9PTApewogICAgICAvLyAgIGN1cnJlbnRUeXBlLnZhbHVlPSdzYWxlcycKICAgICAgLy8gfWVsc2UgaWYoaW5kZXg9PTEpewogICAgICAvLyAgIGN1cnJlbnRUeXBlLnZhbHVlPSdyZWNvbW1lbmQnCiAgICAgIC8vIH1lbHNlIHsKICAgICAgLy8gICBjdXJyZW50VHlwZS52YWx1ZT0nbmV3JwogICAgICAvLyB9CiAgICB9OwoKICAgIHJldHVybiB7CiAgICAgIHJlY29tbWVuZHM6IHJlY29tbWVuZHMsCiAgICAgIHRhYkNsaWNrOiB0YWJDbGljaywKICAgICAgZ29vZHM6IGdvb2RzLAogICAgICBzaG93R29vZHM6IHNob3dHb29kcwogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIEdvb2RzTGlzdDogR29vZHNMaXN0LAogICAgTmF2QmFyOiBOYXZCYXIsCiAgICBSZWNvbW1lbmRWaWV3OiBSZWNvbW1lbmRWaWV3LAogICAgVGFiQ29udHJvbDogVGFiQ29udHJvbAogIH0KfTs="},{"version":3,"sources":["C:\\Users\\itryl\\Desktop\\final_books\\src\\views\\home\\Home.vue"],"names":[],"mappings":"AAeA,OAAO,MAAP,MAAmB,iCAAnB;AACA,OAAO,aAAP,MAA0B,+BAA1B;AACA,OAAO,UAAP,MAAuB,0CAAvB;AACA,SAAQ,cAAR,EAAuB,YAAvB,QAA0C,oBAA1C;AACA,SAAQ,SAAR,EAAkB,GAAlB,EAAsB,QAAtB,EAA+B,QAA/B,QAA8C,KAA9C;AACA,OAAO,SAAP,MAAsB,oCAAtB;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,MADO;AAEb,EAAA,KAFa,mBAEN;AACL,QAAM,KAAK,GAAC,GAAG,CAAC,CAAD,CAAf;AACA,QAAM,UAAU,GAAC,GAAG,CAAC,EAAD,CAApB,CAFK,CAEqB;AAC1B;;AACA,QAAM,KAAK,GAAC,QAAQ,CAAC;AACf,MAAA,KAAK,EAAC;AAAC,QAAA,IAAI,EAAC,CAAN;AAAQ,QAAA,IAAI,EAAC;AAAb,OADS;AAEf,MAAA,SAAS,EAAC;AAAC,QAAA,IAAI,EAAC,CAAN;AAAQ,QAAA,IAAI,EAAC;AAAb,OAFK;AAGf,MAAA,GAAG,EAAC;AAAC,QAAA,IAAI,EAAC,CAAN;AAAQ,QAAA,IAAI,EAAC;AAAb;AAHW,KAAD,CAApB,CAJK,CASL;;AACA,QAAI,WAAW,GAAC,GAAG,CAAC,OAAD,CAAnB,CAVK,CAWL;;AACA,QAAM,SAAS,GAAC,QAAQ,CAAC,YAAI;AAC3B,aAAO,KAAK,CAAC,WAAW,CAAC,KAAb,CAAL,CAAyB,IAAhC;AACD,KAFuB,CAAxB;AAGA,IAAA,SAAS,CAAC,YAAI;AACZ,MAAA,cAAc,GAAG,IAAjB,CAAsB,UAAA,GAAG,EAAE;AACxB,QAAA,UAAU,CAAC,KAAX,GAAiB,GAAG,CAAC,KAAJ,CAAU,IAA3B;AACF,OAFD,EAEE,UAAA,GAAG,EAAE,CAAE,CAFT;AAGA,MAAA,YAAY,CAAC,OAAD,CAAZ,CAAsB,IAAtB,CAA2B,UAAA,GAAG,EAAE;AAC9B,QAAA,KAAK,CAAC,KAAN,CAAY,IAAZ,GAAiB,GAAG,CAAC,KAAJ,CAAU,IAA3B;AACD,OAFD;AAGA,MAAA,YAAY,CAAC,WAAD,CAAZ,CAA0B,IAA1B,CAA+B,UAAA,GAAG,EAAE;AAClC,QAAA,KAAK,CAAC,SAAN,CAAgB,IAAhB,GAAqB,GAAG,CAAC,KAAJ,CAAU,IAA/B;AACD,OAFD;AAGA,MAAA,YAAY,CAAC,KAAD,CAAZ,CAAoB,IAApB,CAAyB,UAAA,GAAG,EAAE;AAC5B,QAAA,KAAK,CAAC,GAAN,CAAU,IAAV,GAAe,GAAG,CAAC,KAAJ,CAAU,IAAzB;AACD,OAFD;AAGD,KAbQ,CAAT;;AAcA,QAAM,QAAQ,GAAC,SAAT,QAAS,CAAC,KAAD,EAAS;AACtB,MAAA,KAAK,CAAC,KAAN,GAAY,KAAZ,CADsB,CAEtB;;AACA,UAAI,KAAK,GAAC,CAAC,OAAD,EAAS,KAAT,EAAe,WAAf,CAAV;AACA,MAAA,WAAW,CAAC,KAAZ,GAAkB,KAAK,CAAC,KAAD,CAAvB,CAJsB,CAKtB;AACA;AACA;AACA;AACA;AACA;AACA;AACF,KAZA;;AAaA,WAAO;AAAC,MAAA,UAAU,EAAV,UAAD;AAAY,MAAA,QAAQ,EAAR,QAAZ;AAAqB,MAAA,KAAK,EAAL,KAArB;AAA2B,MAAA,SAAS,EAAT;AAA3B,KAAP;AACD,GA7CY;AA+Cb,EAAA,UAAU,EAAC;AACT,IAAA,SAAS,EAAT,SADS;AAET,IAAA,MAAM,EAAN,MAFS;AAGT,IAAA,aAAa,EAAb,aAHS;AAIT,IAAA,UAAU,EAAV;AAJS;AA/CE,CAAf","sourcesContent":["<template>\r\n    <div>\r\n      <nav-bar class=\"main\">\r\n        <template v-slot:left></template>\r\n      </nav-bar>\r\n      <div class=\"banners\">\r\n        <img src=\"~assets/images/1.png\">\r\n      </div>\r\n        <recommend-view :recommends=\"recommends\"></recommend-view>\r\n        <tab-control :title=\"['畅销','流行','精选']\" @tabClick=\"tabClick\"></tab-control>\r\n        <goods-list :goods=\"showGoods\"></goods-list>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport NavBar from \"components/common/NavBar/NavBar\";\r\nimport RecommendView from \"./childrenComps/RecommendView\";\r\nimport TabControl from \"components/content/tabControl/TabControl\";\r\nimport {getHomeAllData,getHomeGoods} from \"../../network/home\";\r\nimport {onMounted,ref,reactive,computed} from \"vue\";\r\nimport GoodsList from \"components/content/goods/GoodsList\";\r\n\r\nexport default {\r\n  name: \"Home\",\r\n  setup(){\r\n    const temid=ref(0)\r\n    const recommends=ref([])  //提前声明异步加载之前为空，否则页面会报错\r\n    //商品列表数据模型\r\n    const goods=reactive({\r\n          sales:{page:0,list:[]},\r\n          recommend:{page:0,list:[]},\r\n          new:{page:0,list:[]},\r\n    })\r\n    //确定当前点击的是哪个选项卡 ，根据选项卡 向商品列表传递不同的值\r\n    let currentType=ref('sales')\r\n    //通过计算属性，将当前类型的数据传给goods-list组件\r\n    const showGoods=computed(()=>{\r\n      return goods[currentType.value].list\r\n    })\r\n    onMounted(()=>{\r\n      getHomeAllData().then(res=>{\r\n         recommends.value=res.goods.data\r\n      },err=>{})\r\n      getHomeGoods('sales').then(res=>{\r\n        goods.sales.list=res.goods.data\r\n      })\r\n      getHomeGoods('recommend').then(res=>{\r\n        goods.recommend.list=res.goods.data\r\n      })\r\n      getHomeGoods('new').then(res=>{\r\n        goods.new.list=res.goods.data\r\n      })\r\n    })\r\n    const tabClick=(index)=>{\r\n      temid.value=index\r\n      //点击切换的时候，\r\n      let types=['sales','new','recommend']\r\n      currentType.value=types[index]\r\n      // if(index==0){\r\n      //   currentType.value='sales'\r\n      // }else if(index==1){\r\n      //   currentType.value='recommend'\r\n      // }else {\r\n      //   currentType.value='new'\r\n      // }\r\n    }\r\n    return {recommends,tabClick,goods,showGoods}\r\n  },\r\n\r\n  components:{\r\n    GoodsList,\r\n    NavBar,\r\n    RecommendView,\r\n    TabControl,\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .banners{\r\n    width: 100%;\r\n    height: auto;\r\n    margin-top: 45px;\r\n  }\r\n</style>"],"sourceRoot":""}]}