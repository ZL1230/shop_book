{"remainingRequest":"C:\\Users\\itryl\\Desktop\\final_books\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\itryl\\Desktop\\final_books\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!C:\\Users\\itryl\\Desktop\\final_books\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\itryl\\Desktop\\final_books\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\itryl\\Desktop\\final_books\\src\\views\\home\\Home.vue?vue&type=template&id=3dd2e005&scoped=true","dependencies":[{"path":"C:\\Users\\itryl\\Desktop\\final_books\\src\\views\\home\\Home.vue","mtime":1623467839848},{"path":"C:\\Users\\itryl\\Desktop\\final_books\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\itryl\\Desktop\\final_books\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\itryl\\Desktop\\final_books\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1616796459000},{"path":"C:\\Users\\itryl\\Desktop\\final_books\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\itryl\\Desktop\\final_books\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgd2l0aEN0eCBhcyBfd2l0aEN0eCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrLCB3aXRoU2NvcGVJZCBhcyBfd2l0aFNjb3BlSWQsIHB1c2hTY29wZUlkIGFzIF9wdXNoU2NvcGVJZCwgcG9wU2NvcGVJZCBhcyBfcG9wU2NvcGVJZCB9IGZyb20gInZ1ZSI7CmltcG9ydCBfaW1wb3J0c18wIGZyb20gJ2Fzc2V0cy9pbWFnZXMvMS5wbmcnOwoKdmFyIF93aXRoSWQgPSAvKiNfX1BVUkVfXyovX3dpdGhTY29wZUlkKCJkYXRhLXYtM2RkMmUwMDUiKTsKCl9wdXNoU2NvcGVJZCgiZGF0YS12LTNkZDJlMDA1Iik7Cgp2YXIgX2hvaXN0ZWRfMSA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoImRpdiIsIHsKICBjbGFzczogImJhbm5lcnMiCn0sIFsvKiNfX1BVUkVfXyovX2NyZWF0ZVZOb2RlKCJpbWciLCB7CiAgc3JjOiBfaW1wb3J0c18wCn0pXSwgLTEKLyogSE9JU1RFRCAqLwopOwoKX3BvcFNjb3BlSWQoKTsKCmV4cG9ydCB2YXIgcmVuZGVyID0gLyojX19QVVJFX18qL193aXRoSWQoZnVuY3Rpb24gKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHZhciBfY29tcG9uZW50X25hdl9iYXIgPSBfcmVzb2x2ZUNvbXBvbmVudCgibmF2LWJhciIpOwoKICB2YXIgX2NvbXBvbmVudF9yZWNvbW1lbmRfdmlldyA9IF9yZXNvbHZlQ29tcG9uZW50KCJyZWNvbW1lbmQtdmlldyIpOwoKICB2YXIgX2NvbXBvbmVudF90YWJfY29udHJvbCA9IF9yZXNvbHZlQ29tcG9uZW50KCJ0YWItY29udHJvbCIpOwoKICB2YXIgX2NvbXBvbmVudF9nb29kc19saXN0ID0gX3Jlc29sdmVDb21wb25lbnQoImdvb2RzLWxpc3QiKTsKCiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJkaXYiLCBudWxsLCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfbmF2X2JhciwgewogICAgY2xhc3M6ICJtYWluIgogIH0sIHsKICAgIGxlZnQ6IF93aXRoSWQoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gW107CiAgICB9KSwKICAgIF86IDEKICAgIC8qIFNUQUJMRSAqLwoKICB9KSwgX2hvaXN0ZWRfMSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfcmVjb21tZW5kX3ZpZXcsIHsKICAgIHJlY29tbWVuZHM6ICRzZXR1cC5yZWNvbW1lbmRzCiAgfSwgbnVsbCwgOAogIC8qIFBST1BTICovCiAgLCBbInJlY29tbWVuZHMiXSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X3RhYl9jb250cm9sLCB7CiAgICB0aXRsZTogWyfnlYXplIAnLCAn5rWB6KGMJywgJ+eyvumAiSddLAogICAgb25UYWJDbGljazogJHNldHVwLnRhYkNsaWNrCiAgfSwgbnVsbCwgOAogIC8qIFBST1BTICovCiAgLCBbIm9uVGFiQ2xpY2siXSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2dvb2RzX2xpc3QsIHsKICAgIGdvb2RzOiAkc2V0dXAuc2hvd0dvb2RzCiAgfSwgbnVsbCwgOAogIC8qIFBST1BTICovCiAgLCBbImdvb2RzIl0pXSk7Cn0pOw=="},{"version":3,"sources":["C:\\Users\\itryl\\Desktop\\final_books\\src\\views\\home\\Home.vue"],"names":[],"mappings":";OAMa,U,MAA0B,qB;;;;;;8BADjC,YAAA,CAEM,KAFN,EAEM;AAFD,EAAA,KAAK,EAAC;AAEL,CAFN,EAAoB,C,aAClB,YAAA,CAAgC,KAAhC,EAAgC;AAA3B,EAAA,GAA0B,EAA1B;AAA2B,CAAhC,CADkB,CAApB,E;;AAAA,C;;;;;;;;;;;;;uBAJF,YAAA,CAUM,KAVN,EAUM,IAVN,EAUM,CATJ,YAAA,CAEU,kBAFV,EAEU;AAFD,IAAA,KAAK,EAAC;AAEL,GAFV,EAAqB;AACF,IAAA,IAAI,EAAA,OAAA,CAArB;AAAA,aAAiC,EAAjC;AAAA,KAAqB,CADF;;;;AAAA,GAArB,CASI,EANJ,UAMI,EAHF,YAAA,CAA0D,yBAA1D,EAA0D;AAAzC,IAAA,UAAU,EAAE,MAAA,CAAA;AAA6B,GAA1D,EAAuC,IAAvC,EAAuC;AAAA;AAAvC,IAAuC,CAAA,YAAA,CAAvC,CAGE,EAFF,YAAA,CAA0E,sBAA1E,EAA0E;AAA5D,IAAA,KAAK,EAAE,CAAA,IAAA,EAAA,IAAA,EAAA,IAAA,CAAqD;AAAlC,IAAA,UAAQ,EAAE,MAAA,CAAA;AAAwB,GAA1E,E,IAAA,E;;AAAA,I,cAAA,CAEE,EADF,YAAA,CAA4C,qBAA5C,EAA4C;AAA/B,IAAA,KAAK,EAAE,MAAA,CAAA;AAAwB,GAA5C,EAA6B,IAA7B,EAA6B;AAAA;AAA7B,IAA6B,CAAA,OAAA,CAA7B,CACE,CAVN,C","sourcesContent":["<template>\r\n    <div>\r\n      <nav-bar class=\"main\">\r\n        <template v-slot:left></template>\r\n      </nav-bar>\r\n      <div class=\"banners\">\r\n        <img src=\"~assets/images/1.png\">\r\n      </div>\r\n        <recommend-view :recommends=\"recommends\"></recommend-view>\r\n        <tab-control :title=\"['畅销','流行','精选']\" @tabClick=\"tabClick\"></tab-control>\r\n        <goods-list :goods=\"showGoods\"></goods-list>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport NavBar from \"components/common/NavBar/NavBar\";\r\nimport RecommendView from \"./childrenComps/RecommendView\";\r\nimport TabControl from \"components/content/tabControl/TabControl\";\r\nimport {getHomeAllData,getHomeGoods} from \"../../network/home\";\r\nimport {onMounted,ref,reactive,computed} from \"vue\";\r\nimport GoodsList from \"components/content/goods/GoodsList\";\r\n\r\nexport default {\r\n  name: \"Home\",\r\n  setup(){\r\n    const temid=ref(0)\r\n    const recommends=ref([])  //提前声明异步加载之前为空，否则页面会报错\r\n    //商品列表数据模型\r\n    const goods=reactive({\r\n          sales:{page:0,list:[]},\r\n          recommend:{page:0,list:[]},\r\n          new:{page:0,list:[]},\r\n    })\r\n    //确定当前点击的是哪个选项卡 ，根据选项卡 向商品列表传递不同的值\r\n    let currentType=ref('sales')\r\n    //通过计算属性，将当前类型的数据传给goods-list组件\r\n    const showGoods=computed(()=>{\r\n      return goods[currentType.value].list\r\n    })\r\n    onMounted(()=>{\r\n      getHomeAllData().then(res=>{\r\n         recommends.value=res.goods.data\r\n      },err=>{})\r\n      getHomeGoods('sales').then(res=>{\r\n        goods.sales.list=res.goods.data\r\n      })\r\n      getHomeGoods('recommend').then(res=>{\r\n        goods.recommend.list=res.goods.data\r\n      })\r\n      getHomeGoods('new').then(res=>{\r\n        goods.new.list=res.goods.data\r\n      })\r\n    })\r\n    const tabClick=(index)=>{\r\n      temid.value=index\r\n      //点击切换的时候，\r\n      let types=['sales','new','recommend']\r\n      currentType.value=types[index]\r\n      // if(index==0){\r\n      //   currentType.value='sales'\r\n      // }else if(index==1){\r\n      //   currentType.value='recommend'\r\n      // }else {\r\n      //   currentType.value='new'\r\n      // }\r\n    }\r\n    return {recommends,tabClick,goods,showGoods}\r\n  },\r\n\r\n  components:{\r\n    GoodsList,\r\n    NavBar,\r\n    RecommendView,\r\n    TabControl,\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .banners{\r\n    width: 100%;\r\n    height: auto;\r\n    margin-top: 45px;\r\n  }\r\n</style>"],"sourceRoot":""}]}